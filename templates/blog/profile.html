{% extends 'blog/base.html' %}
{% load crispy_forms_tags %}
{% load static %}
{% block content %}
<div class="main-header">
    <h2>Profile</h2>
    <hr>
</div>
<div class="col-md-8">
    <div class="row">
        <div class="profile">
            <ul class="nav navbar-nav navbar-collapse">
                <li>
                    <img class="circle-img rounded-circle" src="{{ avatar.avatar.url }}" alt="avatar" onerror="this.src='/static/blog/images/profile/avatars/default.png'">
<!--                    <img class="circle-img rounded-circle" src="{{ avatar.avatar.url }}" alt="avatar">-->
                </li>
            </ul>
            <ul class="nav navbar-nav navbar-collapse">
                <li>
                    <h5>First name: {{ user.first_name }}</h5>
                    <h5>Last name: {{ user.last_name }}</h5>
                    <h5>Email: {{ user.email }}</h5>
                    <div class="nav navbar-nav navbar-left">
                        <a href="{% url 'update_profile' id=user.pk %}" class="btn btn-primary">
                            <svg class="bi bi-pencil nav" width="0.8em" height="0.8em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M11.293 1.293a1 1 0 0 1 1.414 0l2 2a1 1 0 0 1 0 1.414l-9 9a1 1 0 0 1-.39.242l-3 1a1 1 0 0 1-1.266-1.265l1-3a1 1 0 0 1 .242-.391l9-9zM12 2l2 2-9 9-3 1 1-3 9-9z"/>
                                <path fill-rule="evenodd" d="M12.146 6.354l-2.5-2.5.708-.708 2.5 2.5-.707.708zM3 10v.5a.5.5 0 0 0 .5.5H4v.5a.5.5 0 0 0 .5.5H5v.5a.5.5 0 0 0 .5.5H6v-1.5a.5.5 0 0 0-.5-.5H5v-.5a.5.5 0 0 0-.5-.5H3z"/>
                            </svg> Update Profile</a>
                        <a href="{% url 'users_posts' id=user.pk %}" class="btn btn-primary">
                            <svg class="bi bi-cursor nav" width="0.8em" height="0.8em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M14.082 2.182a.5.5 0 0 1 .103.557L8.528 15.467a.5.5 0 0 1-.917-.007L5.57 10.694.803 8.652a.5.5 0 0 1-.006-.916l12.728-5.657a.5.5 0 0 1 .556.103zM2.25 8.184l3.897 1.67a.5.5 0 0 1 .262.263l1.67 3.897L12.743 3.52 2.25 8.184z"/>
                            </svg> Posts</a>
                    </div>
                </li>
            </ul>
        </div>
    </div>
    <hr>
    <div class="row">
        <div class="user-statistics">
            <ul class="nav navbar-nav navbar-collapse">
                <li>
                    <img class="circle-img rounded-circle" src="{% static 'blog/images/profile/UI_circle_web-06-512.png' %}" alt=""">
                </li>
            </ul>
            <ul class="nav navbar-nav navbar-collapse">
                <li>
                    <p>Posts: {{ count_posts }}</p>
                    <p>Days on the site: {{ count_days }}</p>
                </li>
            </ul>
        </div>
    </div>
</div>
{% endblock%}